# java-blackjack

블랙잭 게임 미션 저장소

## 기능 요구사항

### Domain(TDD)

- [x] Card
    - [x] 미리 분배할 카드들을 캐싱 한다.
    - [x] Suit 와 Number 상태값을 가진다.

- [x] Deck
    - [x] 카드들을 섞는다.
    - [x] Player들에게 카드를 나누어준다.

- [x] Suit, Face
    - [x] enum을 사용하여 카드에서 사용하는 정보를 관리한다.

- [x] Cards (유저가 가지고 있는 카드 묶음)
    - [x] 현재 스코어를 계산한다.
    - [x] 21점이 넘으면, Bust 임을 확인한다.
    - [x] 블랙잭 여부를 확인한다.
        - [x] 가진 카드가 두장뿐이고, 두장의 합이 21점이면 블랙잭

- [x] Player
    - [x] Challenger
        - [x] Cards 상태값을 가진다.
        - [x] Name, isBust 상태값을 가진다.
        - [x] 초기 카드를 받는다. (2장)
        - [x] 카드를 추가로 받는다.
        - [x] Bust 여부 계산한다.
        - [x] 딜러와의 스코어를 계산하여 승자 판별한다.
            - [x] 유저가 버스트고 딜러도 버스트면, 유저가 패배한다.
            - [x] 딜러가 버스트가 아니고, 딜러의 점수가 유저보다 높으면, 유저가 패배한다.
            - [x] 딜러가 버스트고 유저가 버스트가 아니면, 유저가 승리힌다.
            - [x] 딜러가 버스트가 아니고 유저의 점수가 딜러보다 높으면, 유저가 승리한다.
            - [x] 둘다 블랙잭, 동률이면, 무승부이다.
        - [x] 블랙잭 여부를 확인한다.
        - [x] Dealer
            - [x] Cards 상태값을 가진다.
            - [x] 초기 카드를 받는다. (2장)
            - [x] 카드를 추가로 받는다.
            - [x] Player와의 승자 판별한다.
            - [x] Bust 여부 계산한다.
            - [x] 블랙잭 여부를 확인한다.


- [x] Challengers (게임에 참여한 플레이어 그룹)
    - [x] 최대 인원수(8명) 을 확인한다.

- [x] Name
    - [x] 잘못된 이름인지 확인한다.

- [x] BetMoney
    - [x] 배팅금액이 숫자인지 확인한다.
    - [x] 배팅금액이 양수인지 확인한다.

- [x] ResultStatistics
    - [x] Challenger 의 블랙잭 승, 승, 무, 패를 보관한다.
    - [x] 딜러의 수익을 계산해준다.
    - [x] 챌린저의 수익을 계산해준다.

### Controller, Service, View

- [x] InputView
    - [x] 입력받은 이름을 split해서 문자열 리스트로 반환한다 
    - [x] 챌린저의 배팅금액을 입력받는다.
    - [x] 챌린저로부터, 카드를 더 받을지 여부를 확인한다.

- [x] OutputView
    - [x] 딜러와 pobi, jason에게 2장의 나누었습니다. 딜러: 3다이아몬드 pobi카드: 2하트, 8스페이드 jason카드: 7클로버, K스페이드
    - [x] 카드를 추가로 뽑은 결과를 출력한다.
    - [x] 받은 카드의 정보를 출력한다.
    - [x] 최종 결과를 출력한다.

## Refactoring TODO

- [x] isEnoughScore() 에 의미가 좀더 담기게 네이밍 수정
- [x] 필터를 굳이 하지 않아도 되도록 printInitSetting 의 인자 수정
- [x] 카드 캐싱을 Deck에서 이용하게 하도록 수정
- [x] 플레이어수가 8명이 초과하지 않도록 수정
- [x] receiveMoreCard 에서 한번더 타고 들어가던 작업을 제거
- [x] 반복되지 않는 메시지에 대해서 상수화 한것을 수정
- [x] 챌린저에서 하는 테스트가 `DealerTest` 로 되어있던것을 수정
- [x] 이름 도메인에 대한 커스텀 예외를 만들어보기
- [x] 승 무 패 확인 로직 리팩토링하기
- [x] MoreCard와 같은 중복 언급되는 부분 수정
- [x] 유저가 들고 있는 카드는 Hand라는 명칭으로 변경
- [x] Player가 들고 있는 BetMoney를 초기화 하도록 수정
- [x] view에서 도메인 로직을 호출하지 않도록 수정
- [ ] 테스트코드 display 이름을 좀 더 명시적으로 수정
- [ ] 상태 패턴을 통해서 결과를 가져오게 수정